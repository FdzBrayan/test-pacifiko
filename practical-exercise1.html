<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practical Exercise 1</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

    <div class="container" height="100%;">
        <h1>Product Search</h1>
        <input type="text" id="product-search" class="form-control" placeholder="Enter product name">
        <ul id="product-results" class="list-group" class="mt-1"></ul>
    </div>


    <script>
        $(document).ready(function () {

            // Products dictionaries
            const products = [
                { 'product_id': 1, 'product_name': 'Laptop Lenovo',        'price': 400000.00 },
                { 'product_id': 2, 'product_name': 'Laptop HP',            'price': 359000.00 },
                { 'product_id': 3, 'product_name': 'Celular Samsung',      'price': 125000.00 },
                { 'product_id': 4, 'product_name': 'Soporte pantalla 43"', 'price': 18000.00 }
            ];

            // Function to search for a product by name

            const filterProductsByName = (targetName) => products.filter(product => product['product_name'].toLowerCase().includes(targetName.toLowerCase()));

            $('#product-search').on('input', function () {

                let searchTerm = $(this).val();

                let results = filterProductsByName(searchTerm);

                // Display the results
                $('#product-results').empty();

                if (results.length > 0)
                {

                    results.forEach(item => {

                            const {product_id, product_name, price} = item;

                            $('#product-results').append(
                                `<li class="list-group-item d-flex justify-content-between align-items-center">
                                    <p>Product ID: ${product_id}</p> ${product_name}
                                    <span class="badge badge-primary badge-pill">$ ${price} </span>
                                </li>`
                            );
                    });
                }
                else
                {
                    $('#product-results').html('<p>No products found.</p>');
                }
            });
        });
    </script>
</body>
</html>
